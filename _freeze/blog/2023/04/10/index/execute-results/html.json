{
  "hash": "b28c5d71773f171321bb9261247374cc",
  "result": {
    "markdown": "---\ntitle: \"Using Tmux for Persistent Terminal in VSCode Remote Session\"\ndate: 2023-04-10\n# date-modified: 2023-04-05\ncategories:\n  - Linux\nimage: tmux_introduction.png\n---\n\nThe solution is to set the default terminal provider on the remote settings to be tmux, and have it attach to either an existing session named main, or create a new one if it doesn't exist. \n\n## Tmux shortcuts\n\n<!-- ![](simple-tmux-cheatsheet.jpg) -->\n![](tmux.png)\n\n[Advanced commands & shortcodes](https://quickref.me/tmux)\n\n## Basic workflow\n\n1. Create session\n2. Setup session\n3. Work\n4. Detach\n5. Attach\n6. Work\n7. To 4\n\n## Useful Aliases\n\n\n```{bash}\nalias t=\"tmux\"\nalias ta=\"t a -t\"\nalias tls=\"t ls\"\nalias tn=\"t new -t\"\n``` \n\nNow we can run any tmux commands by just typing `t` (saved 3 characters and much cognitive load! Yeah!), create a new session with `t {session-name}`, attach to an existing session with `ta {session-name}` and list all your sessions with `tls`.\n\n## Single session\n\n- Add the below snippet to your remote settings in VSCode.\n\n```json\n{\n  \"terminal.integrated.profiles.linux\": {\n    \"tmux\": {\n      \"path\": \"/usr/bin/tmux\",\n      \"args\": [\n        \"new-session\",\n        \"-A\",\n        \"-s\",\n        \"main\"\n      ],\n    },\n  },\n  \"terminal.integrated.defaultProfile.linux\": \"tmux\",\n}\n\n```\n## Session Per Workspace\n\n- Use vscode variables to make one tmux-session per project, \n\n```json\n{\n  \"terminal.integrated.profiles.linux\": {\n    \"tmux\": {\n      \"path\": \"/usr/bin/tmux\",\n      \"args\": [\n        \"new-session\",\n        \"-A\",\n        \"-s\",\n        \"vscode-${workspaceFolderBasename}\"\n      ],\n    },\n  },\n  \"terminal.integrated.defaultProfile.linux\": \"tmux\",\n}\n\n```\n\n## Remote setting\n\n```json\n// 2023-04-10 updated\n{\n    \"r.rterm.linux\": \"/home/zhonggr/.local/bin/radian\",\n    // \"r.rterm.linux\": \"/bin/R\",\n    \"r.rpath.linux\": \"/bin/R\",\n    \"r.alwaysUseActiveTerminal\": true,\n    \"r.bracketedPaste\": true,\n    \"r.sessionWatcher\": true,\n    // \"terminal.integrated.defaultProfile.linux\": \"R Terminal\",\n    // \"terminal.integrated.defaultProfile.linux\": \"bash\",\n    \"r.plot.useHttpgd\": true,\n    \"editor.tabCompletion\": \"on\",\n    \"editor.acceptSuggestionOnEnter\": \"off\",\n    \"terminal.integrated.profiles.linux\": {\n        \"tmux\": {\n            \"path\": \"/usr/bin/tmux\",\n            \"args\": [\n                \"new-session\",\n                \"-A\",\n                \"-s\",\n                \"main\"\n            ],\n        },\n    },\n    \"terminal.integrated.defaultProfile.linux\": \"tmux\"\n}\n\n```\n```bash\nsource-file ~/.tmux.conf\n```\n## Reference\n\n- <https://www.zdyn.net/system/hacks/2020/09/19/vscode-term-session.html>\n- <https://arcolinux.com/everthing-you-need-to-know-about-tmux-introduction/>\n- <https://www.barbarianmeetscoding.com/blog/jaimes-guide-to-tmux-the-most-awesome-tool-you-didnt-know-you-needed>\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {}
  }
}